/*CREATE DATABASE ESTUDIO_ARQUITECTURA;*/
USE ESTUDIO_ARQUITECTURA;

/*CREATE TABLE ARQUITECTO(
DNI INT PRIMARY KEY,
NOMBRE VARCHAR (20),
DIR VARCHAR (10),
CIUDAD VARCHAR (20),
TELEFONO INT);

CREATE TABLE EDIFICIO(
COD_E INT PRIMARY KEY,
NOM_E VARCHAR(20),
DIR_E VARCHAR (10),
NUM_P INT DEFAULT (1),
FECHA_C DATE);

CREATE TABLE DISEÑA(
DNI INT,
COD_E INT,
TIEMPO INT,
SALARIO INT CHECK (SALARIO > 9000),
PRIMARY KEY (DNI, COD_E),
FOREIGN KEY (DNI) REFERENCES ARQUITECTO (DNI),
FOREIGN KEY (COD_E) REFERENCES EDIFICIO (COD_E));*/

/*ALTER TABLE ARQUITECTO MODIFY DIR VARCHAR(100);*/
/*ALTER TABLE EDIFICIO MODIFY DIR_E VARCHAR(100);

/*INSERT INTO ARQUITECTO VALUES (12345678, "MIKEL", "C/AVE DEL PARAISO 5", "MADRID", 944444444), 
							  (87654321, "NAIARA", "C/LA BONDAD 6 ", "BARAKALDO", 945555555),
                              (13572468, "MARTA", "C/LA MERCED 26 ", "BILBAO", 946666666),
                              (12312312, "NAIARA", "C/GRAN VIA 30 ", "BILBAO", 947777777);
INSERT INTO EDIFICIO VALUES (1111, "IBERDROLA", "C/SARRIKOBASO 46", 56, "2010-04-10"),
							(2222, "BBVA", "C/GRAN VIA 1", 30, "1987-02-04"),
                            (3333, "ALHONDIGA", "C/IPARAGUIRRE 30", 7, "2009-01-03"),
                            (4444, "LABORAL", "C/TELLETXE 30", 7, "1999-07-09");
INSERT INTO DISEÑA VALUES (12345678, 1111, 2, 20000), 
						  (12345678, 2222, 4, 10000), 
                          (13572468, 3333, 10, 17000), 
                          (87654321, 4444, 3, 30000),
                          (12312312, 3333, 1, 15000);*/
                          
/*a)UPDATE DISEÑA SET SALARIO = SALARIO+3000 WHERE TIEMPO > 3;
b)ALTER TABLE ARQUITECTO ADD EDAD INT;
c)SELECT A.NOMBRE, (SUM)TIEMPO FROM DISEÑA D, ARQUITECTO A GROUP BY DNI;
d)UPDATE DISEÑA D, EDIFICIO E SET E.NUM_P = 10 WHERE D.DNI = 87654321;
e)SELECT *FROM EDIFICIO WHERE NUM_P = (SELECT MAX(NUM_P) FROM EDIFICIO;
f)SELECT NOM FROM ARQUITECTO WHERE CIUDAD = MADRID AND CIUDAD = LONDRES;
g)SELECT NOM FROM ARQUITECTO WHERE CIUDAD IN ("MADRID", "LONDRES");
h)INSERT INTO EDIFICIO (COD_E, NOM_E, NUM_P, FECHA_C) VALUES (5555, "CASONA", 10, "1987-08-24");
i)SELECT DISTINCT CIUDAD, NOMBRE FROM ARQUITECTO;
j)SELECT NOM_E FROM EDIFICIO WHERE NOM_E LIKE "%O%";
k)DELETE FROM EDIFICIO WHERE COD_E = 5555;
l)SELECT COUNT(COD_E) FROM EDIFICIO;
m)SELECT *FROM EDIFICIO WHERE NUM_P BETWEEN 10 AND 60;
n)SELECT DNI FROM DISEÑA GROUP BY DNI HAVING SUM(SALARIO) >= 90000;
o)CREATE VIEW V1 AS SELECT NOMBRE, CIUDAD, TELEFONO FROM ARQUITECTO WHERE CIUDAD = "BILBAO";
p)CREATE VIEW V2 AS SELECT DNI, TELEFONO FROM ARQUITECTO WHERE NOMBRE = "NAIARA";
q)SELECT SUM(TIEMPO) FROM DISEÑA GROUP BY COD_E;
r)INSERT INTO ARQUITECTA_NAIARA VALUES (11111111, 947777777), (22222222, 948888888);
s)SELECT D.SALARIO FROM DISEÑA D, ARQUITECTO A WHERE A.DNI = (SELECT DNI FROM ARQUITECTO WHERE NOMBRE = "MIKEL") AND D.COD_E = 1111;
t)SELECT A.NOMBRE FROM ARQUITECTO A, DISEÑA D WHERE A.DNI = D.DNI ORDER BY SALARIO;
u)SELECT UPPER(DIR) FROM ARQUITECTO WHERE NOMBRE = "MARTA";
v)CREATE VIEW V3 AS SELECT A.NOMBRE, A.EDAD, D.SALARIO FROM ARQUITECTO A, DISEÑA D;*/
/*w)SELECT E.NOM_E, D.TIEMPO FROM EDIFICIO E, DISEÑA D ON E.COD_E = D.COD_E ORDER BY D.TIEMPO LIMIT 1;(NO SE PUEDE HACER CON LO QUE SE SABE)*/
/*x)SELECT E.DIR_E, E.NUM_P FROM EDIFICIO E, ARQUITECTO A WHERE A.NOMBRE = "NAIARA";*/
/*y)SELECT SUM(SALARIO) FROM DISEÑA GROUP BY DNI;*/
/*z)CREATE INDEX I1 ON EDIFICIO (DIR_E);*/
 


